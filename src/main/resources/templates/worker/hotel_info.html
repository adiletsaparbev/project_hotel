<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Hotel Info</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container py-4">
    <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–µ–ª–µ</h2>
    <div class="mb-3">
        <strong>–ù–æ–º–µ—Ä:</strong> <span th:text="${hotel.number}"></span><br>
        <strong>–ê–¥—Ä–µ—Å:</strong> <span th:text="${hotel.address}"></span><br>
        <strong>–†–∞–Ω–≥:</strong> <span th:text="${hotel.hotelRank}"></span><br>
        <strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> <span th:text="${hotel.description}"></span><br>
    </div>
    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ -->
    <div th:if="${message}" class="alert alert-info" th:text="${message}"></div>
    <br>
    <div class="mb-4 text-end">
        <a th:href="@{/hotel-panel/rooms/add/{hotelId}(hotelId=${hotel.id})}" class="btn btn-success">
            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–Ω–∞—Ç—É
        </a>
        <a th:href="@{/hotel-panel/bookings/{hotelId}(hotelId=${hotel.id})}" class="btn btn-info">
            üìã –ü–æ–∫–∞–∑–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        </a>

    </div>


    <hr>
    <br>
    <h1>–ü–æ–∏—Å–∫ –ö–æ–º–Ω–∞—Ç</h1>
    <div class="container my-5">
        <h1 class="text-center mb-4">–ü–æ–∏—Å–∫ –ö–æ–º–Ω–∞—Ç</h1>
        <form th:action="@{/hotel-panel/rooms/search}" method="get" class="row g-3">
            <input type="hidden" name="hotelId" th:value="${hotel.id}" />

            <div class="col-md-4">
                <label for="roomNumber" class="form-label">–ù–æ–º–µ—Ä –ö–æ–º–Ω–∞—Ç:</label>
                <input type="text" id="roomNumber" name="roomNumber" class="form-control">
            </div>
            <div class="col-md-4">
                <label for="roomType" class="form-label">–¢–∏–ø:</label>
                <input type="text" id="roomType" name="roomType" class="form-control">
            </div>
            <div class="col-md-4">
                <label for="roomId" class="form-label">ID –∫–æ–º–Ω–∞—Ç:</label>
                <input type="number" id="roomId" name="roomId" class="form-control">
            </div>
            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary mt-3">–ü–æ–∏—Å–∫</button>
            </div>
        </form>

        <hr>
        <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–º–Ω–∞—Ç–∞–º–∏ -->
        <table class="table table-striped mt-4">
            <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>–ù–æ–º–µ—Ä</th>
                <th>–¢–∏–ø</th>
                <th>–ö–æ–ª-–ö—Ä–æ–≤–∞—Ç—å</th>
                <th>–¶–µ–Ω–∞ –∑–∞ –Ω–æ—á—å</th>
                <th>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</th>
                <th>–§—É–Ω–∫—Ü–∏–∏</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="room : ${rooms}">
                <td th:text="${room.roomId}"></td>
                <td th:text="${room.roomNumber}"></td>
                <td th:text="${room.roomType}"></td>
                <td th:text="${room.bedCount}"></td>
                <td th:text="${room.pricePerNight}"></td>
                <td>
                            <span th:text="${room.availability} ? '–î–æ—Å—Ç—É–ø–Ω–æ' : '–ù–µ –î–æ—Å—Ç—É–ø–Ω–æ'"
                                  class="badge"
                                  th:classappend="${room.availability} ? 'bg-success' : 'bg-danger'"></span>
                </td>
                <td>
                    <a th:href="@{/rooms/{id}(id=${room.roomId})}" class="btn btn-primary btn-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <form th:action="@{/rooms/delete/{id}(id=${room.roomId})}" method="post" style="display:inline;">
                        <button type="submit" class="btn btn-danger btn-sm">–£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    </div>
</body>
</html>
